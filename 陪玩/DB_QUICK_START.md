# ⚡ /db 命令快速参考

## 🎯 一句话介绍
`/db` 是 Discord 中的**数据库管理中心**，一个命令进入，6 个按钮解决所有数据库需求！

---

## 📱 命令菜单

```
/db
│
├─ 第一行按钮
│  ├─ 📊 数据库信息   → 查看统计详情
│  ├─ ✏️ 编辑数据     → 查看编辑方法
│  └─ ⚙️ 数据管理     → 管理选项
│
└─ 第二行按钮
   ├─ 📥 导出 Excel   → 下载 .xlsx 文件
   ├─ 💾 导出 JSON    → 下载 .json 文件
   └─ 🔄 刷新数据     → 更新显示
```

---

## 🚀 常用场景

| 场景 | 操作 | 按钮 |
|------|------|------|
| 📊 查看今日统计 | `/db` | 📊 |
| 📥 备份数据 | `/db` | 📥 + 💾 |
| ✏️ 修改订单 | `/db` | ✏️ |
| 📈 分析报表 | `/db` | 📥 |
| 🔄 更新显示 | `/db` | 🔄 |

---

## 📊 按钮快查

### 📊 数据库信息
- **显示**: 订单数、收入、平均价、文件大小
- **用途**: 快速查看数据库状态

### ✏️ 编辑数据
- **显示**: 最近 5 条订单
- **用途**: 了解如何修改数据

### ⚙️ 数据管理
- **显示**: 管理选项和建议
- **用途**: 了解可用的管理操作

### 📥 导出 Excel
- **输出**: `订单数据_日期.xlsx`
- **用途**: 用 Excel 分析、制作报表

### 💾 导出 JSON
- **输出**: `订单数据_日期.json`
- **用途**: 备份、编程处理、数据传输

### 🔄 刷新数据
- **效果**: 重新加载所有数据
- **用途**: 数据更新或确认修改

---

## ⏱️ 快速任务

### ✅ 查看统计（30秒）
```
1. 输入: /db
2. 看: 📈 数据库统计 部分
```

### ✅ 导出备份（1分钟）
```
1. /db
2. 点 📥（Excel）
3. 点 💾（JSON）
4. 保存文件
```

### ✅ 修改订单（3分钟）
```
1. /db → 点 ✏️
2. 找到订单 ID
3. 运行: node db-edit.js
4. /db → 点 🔄 确认
```

---

## 💾 导出文件说明

**Excel (.xlsx)**
- 适合: 看报表、统计分析
- 包含: 70 条完整订单记录
- 结构: 行列表格

**JSON (.json)**
- 适合: 备份、编程处理
- 包含: 70 条完整订单记录
- 结构: 数据对象

---

## 🔐 权限
✅ **管理员可用**
❌ 普通用户无法看到

---

## 📋 文件位置
```
📁 \\zx\Excel\陪玩\
  ├─ DB_COMMAND_GUIDE.md      ← 完整指南（你在这里）
  ├─ index.js                  ← /db 命令代码
  ├─ data.db                   ← 数据库文件
  └─ db.js                     ← 数据库模块
```

---

## ❓ 常见问题

**Q: 导出的文件在哪？**
→ Discord 直接下载到你的 "下载" 文件夹

**Q: 修改数据后多久会更新？**
→ 立即更新。点 🔄 刷新查看最新状态

**Q: 能批量修改订单吗？**
→ 不能。逐条修改使用 `node db-edit.js`

**Q: 导出会覆盖上次的数据吗？**
→ 否。每次导出时间戳不同，不会覆盖

---

## 🎨 Embed 展示

### 主菜单（执行 /db）
```
📊 数据库管理中心
选择下方功能按钮进行相应操作～

📈 数据库统计
总订单数: 32
总收入: RM 1569.00
记录总数: 70
最后更新: 2026-01-02
```

### 详情页面（点击 📊）
```
📊 数据库详细信息

📈 统计数据
总订单数: 32
总收入: RM 1569.00
平均单价: RM 49.03

💾 数据库状态
记录总数: 70
数据库大小: 24.62 KB
最后更新: 2026-01-02
```

---

**创建**: 2026-01-02  
**版本**: 1.0  
**状态**: ✨ 完全集成

